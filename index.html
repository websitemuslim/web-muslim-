<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Muslim Toolkit - Tools Islami Digital</title>

    <style>
        /* --- STYLE DASAR (LIGHT MODE) --- */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #e9eef2;
            transition: background-color 0.5s, color 0.5s; 
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .assistant-container {
            max-width: 800px;
            width: 100%;
            background-color: #ffffff;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            transition: background-color 0.5s, box-shadow 0.5s;
        }
        
        #app-content {
            display: block; 
        }
        
        .welcome-message {
            text-align: center;
            font-size: 1.5em;
            font-weight: 600;
            color: #4CAF50;
            margin-bottom: 15px;
            padding: 10px;
            border: 2px solid #4CAF50;
            border-radius: 8px;
            background-color: #e8f5e9;
            transition: background-color 0.5s, color 0.5s;
        }
        h1 {
            color: #1a5a9e;
            text-align: center;
            border-bottom: 2px solid #1a5a9e;
            padding-bottom: 10px;
            transition: color 0.3s, border-bottom-color 0.3s;
        }
        h3 {
            color: #333;
            margin-top: 25px;
            transition: color 0.5s;
        }
        hr {
            border: 0;
            height: 1px;
            background-color: #ddd;
            margin: 20px 0;
            transition: background-color 0.5s;
        }
        #display-waktu {
            font-size: 2.5em;
            font-weight: bold;
            color: #e8491d;
            text-align: center;
            margin-bottom: 10px; 
            padding: 10px;
            background-color: #fff3e0;
            border-radius: 8px;
            transition: background-color 0.5s, color 0.5s;
        }

        #shalat-notif {
            padding: 15px;
            background-color: #fce4ec;
            border: 2px solid #d81b60;
            border-radius: 8px;
            text-align: center;
            font-size: 1.1em;
            margin-bottom: 20px;
            display: none;
            transition: background-color 0.5s, border-color 0.5s, color 0.5s;
        }
        #shalat-notif strong {
            display: block;
            font-size: 1.3em;
            color: #d81b60;
            margin-bottom: 5px;
        }
        .niat-teks {
            font-style: italic;
            margin-top: 10px;
            font-size: 0.9em;
            background-color: #fff8fb;
            padding: 5px;
            border-radius: 4px;
        }

        #countdown-notif {
            text-align: center; 
            margin-top: 10px; 
            font-size: 1.1em; 
            color: #008cba;
            padding: 5px 0;
            transition: color 0.5s;
        }
        .jadwal-salat-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr); 
            gap: 10px;
            margin-bottom: 15px;
        }
        .waktu-salat {
            padding: 10px;
            background-color: #e3f2fd;
            border-radius: 5px;
            text-align: center;
            border: 1px solid #bbdefb;
            transition: background-color 0.5s, border-color 0.5s;
        }
        .waktu-salat strong {
            display: block;
            font-size: 1.2em;
            color: #0d47a1;
            transition: color 0.5s;
        }
        #terjemahan-output {
            margin-top: 10px;
            padding: 15px;
            border-radius: 5px;
            background-color: #f0f8ff;
            border: 1px solid #cceeff;
            min-height: 40px;
            text-align: right; 
            font-size: 1.5em;
            direction: rtl; 
            transition: background-color 0.5s, border-color 0.5s;
        }
        #quran-output {
            margin-top: 10px;
            font-size: 1em;
            padding: 10px;
            background-color: #e8f5e9; 
            border: 1px solid #c8e6c9;
            border-radius: 5px;
            min-height: 40px;
            transition: background-color 0.5s, border-color 0.5s;
        }
        .input-group {
            display: flex;
            margin-bottom: 15px;
            align-items: center; 
        }
        input[type="text"] {
            flex-grow: 1;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            transition: background-color 0.5s, border-color 0.5s, color 0.5s;
        }
        button {
            padding: 10px 15px;
            background-color: #008cba;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-left: 5px;
            transition: background-color 0.2s;
            white-space: nowrap; 
        }
        button:hover {
            background-color: #007bb0;
        }
        #cari-salawat-btn {
            background-color: #4CAF50;
        }
        .tiktok-download-group button {
            flex-grow: 1;
            margin-left: 0; 
            margin-right: 10px; 
            padding: 12px 15px;
        }
        #big-search-form {
            margin-bottom: 30px;
            padding: 20px;
            background-color: #f5f5f5;
            border-radius: 10px;
            border: 1px solid #eee;
            transition: background-color 0.5s;
        }
        
        #dark-mode-toggle {
            float: right;
            background-color: #555;
            color: white;
            padding: 8px 12px;
            font-size: 0.9em;
            margin-left: 10px; 
            margin-bottom: 10px;
        }

        /* --- STYLE DARK MODE --- */
        .dark-mode {
            background-color: #121212 !important;
            color: #e0e0e0;
        }
        .dark-mode .assistant-container {
            background-color: #1e1e1e;
            box-shadow: 0 10px 25px rgba(255, 255, 255, 0.1);
        }
        .dark-mode h1, .dark-mode h3 {
            color: #e0e0e0 !important;
            border-bottom-color: #444 !important;
        }
        .dark-mode hr {
            background-color: #444;
        }
        .dark-mode .welcome-message {
            background-color: #38761d;
            color: #e0e0e0;
            border-color: #4CAF50;
        }
        .dark-mode #display-waktu {
            background-color: #333;
            color: #ffb74d;
        }
        .dark-mode #countdown-notif {
            color: #81d4fa;
        }
        .dark-mode .jadwal-salat-grid .waktu-salat {
            background-color: #333;
            border-color: #555;
            color: #ccc;
        }
        .dark-mode .waktu-salat strong {
            color: #bbdefb;
        }
        .dark-mode #big-search-form {
            background-color: #2a2a2a;
            border-color: #333;
        }
        .dark-mode input[type="text"] {
            background-color: #444;
            border-color: #666;
            color: #fff;
        }
        .dark-mode #quran-output, .dark-mode #terjemahan-output {
            background-color: #333;
            border-color: #555;
            color: #fff;
        }
    </style>
</head>
<body>
    
    <div class="assistant-container">
        
        <div id="app-content">
            
            <button id="dark-mode-toggle" onclick="toggleDarkMode()">‚òÄÔ∏è Mode Gelap</button>

            <div class="welcome-message">
                Welcome di Web Muslim
            </div>
            
            <h1 id="main-title">"SELAMAT DATANG" <br> DI BUAT OLEH RAIHAN-DEV</h1>
            
            <hr>
            
            <h3>üöÄ Pencarian Cepat Google</h3>
            <form id="big-search-form" action="https://www.google.com/search" method="GET" target="_blank">
                <input type="text" name="q" id="big-search-input" placeholder="Cari apapun, di mana pun...">
                <button type="submit">Cari Sekarang</button>
            </form>
            
            <hr>

            <h3>‚è∞ Waktu Saat Ini</h3>
            <div id="display-waktu">Memuat Waktu...</div>
            
            <div id="countdown-notif">Memuat hitungan mundur...</div>

            <div id="shalat-notif">
                <strong>üì¢ WAKTU SOLAT TELAH TIBA!</strong>
                <p>Segera ambil wudhu, siapkan diri Anda untuk beribadah.</p>
                <p>Jangan tunda-tunda waktu shalat, Raihan.</p>
                <div class="niat-teks">
                    Niat Shalat Dzuhur: **"Ushalli fardhadzh-zhuhri arba'a raka'aatin mustaqbilal qiblati adaa-an lillahi ta'aala."**
                </div>
            </div>

            <hr>

            <h3>üïå Jadwal Salat</h3>
            <p id="prayer-location-display" style="text-align: center; font-style: italic; color: #008cba; font-size: 0.9em;">Jadwal statis untuk default lokasi. Atur lokasi di bawah.</p>
            <div class="jadwal-salat-grid">
                <div class="waktu-salat"><strong id="imsak-time">04:00</strong><small>Imsak</small></div>
                <div class="waktu-salat"><strong id="subuh-time">04:20</strong><small>Subuh</small></div>
                <div class="waktu-salat"><strong id="syuruk-time">05:40</strong><small>Syuruk</small></div>
                <div class="waktu-salat"><strong id="terbit-time">05:45</strong><small>Terbit</small></div>
                <div class="waktu-salat"><strong id="dzuhur-time">11:45</strong><small>Dzuhur</small></div>
                <div class="waktu-salat"><strong id="ashar-time">15:05</strong><small>Ashar</small></div>
                <div class="waktu-salat"><strong id="maghrib-time">17:50</strong><small>Maghrib</small></div>
                <div class="waktu-salat"><strong id="isya-time">19:00</strong><small>Isya</small></div>
            </div>
            
            <div style="text-align: center; margin-bottom: 10px;">
                <button id="set-location-btn" onclick="getPrayerTimesByLocation()">Atur Lokasi & Jadwal Otomatis</button>
            </div>
            
            <div style="text-align: center; margin-bottom: 20px; padding: 10px; border: 1px dashed #e8491d; border-radius: 8px;">
                <iframe width="100%" height="315" src="https://www.youtube.com/embed/IaqihLTtQ1s" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                <p style="font-size: 0.8em; margin-top: 5px; color: #555;">(JANGAN LUPA SOLAT BRE)</p>
            </div>

            <hr>
            
            <h3>üé∂ Cari Salawat Favorit</h3>
            <div class="input-group">
                <input type="text" id="cari-salawat-input" placeholder="Contoh: Sholawat Badar, Ya Hanana...">
                <button id="cari-salawat-btn" onclick="cariSalawat()">Cari Salawat</button>
            </div>
            
            <hr>

            <h3>üïã Qur'an Digital (Cari Surah/Ayat)</h3>
            <div class="input-group">
                <input type="text" id="quran-input" placeholder="Surah/Ayat atau Kata Kunci Qur'an...">
                <button onclick="cariQuranDigital()">Cari / Baca</button>
            </div>
            <div id="quran-output">Silakan masukkan Surah atau Ayat.</div>
            
            <hr>

            <h3>üìù Terjemahan Bahasa Arab</h3>
            <div class="input-group">
                <input type="text" id="arab-input" placeholder="Ketik kata/frasa Indonesia...">
                <button onclick="terjemahkanArab()">Terjemahkan</button>
            </div>
            <div id="terjemahan-output">Hasil muncul di sini...</div>
            
            <hr>

            <h3>‚¨áÔ∏è Unduh TikTok (MP4/MP3)</h3>
            <div class="input-group">
                <input type="text" id="tiktok-link-input" placeholder="Tempel link TikTok di sini...">
            </div>
            <div class="input-group tiktok-download-group">
                <button onclick="downloadTikTokMP4()">Unduh MP4</button>
                <button style="background-color: #e8491d;" onclick="downloadTikTokMP3()">Unduh MP3</button>
            </div>
            
            <hr>

            <h3>üß≠ Arah Kiblat</h3>
            <p style="text-align: center; font-size: 0.9em; color: #555; margin-bottom: 10px;">Gunakan kamera HP kamu untuk mencari arah Ka'bah secara akurat.</p>
            <button onclick="bukaKiblat()" style="width: 100%; background-color: #ff9800;">Buka Penunjuk Kiblat (Google)</button>

            <hr>

            <h3>üïã Peta Masjid Terdekat</h3>
            <button onclick="petaMasjidTerdekat()" style="width: 100%;">Cari Masjid via Google Maps</button>
            
        </div>
    </div>

    <script>
        const PRAYER_TIMES_CONFIG = {
            'Imsak': '04:00', 'Subuh': '04:20', 'Syuruk': '05:40', 
            'Terbit': '05:45', 'Dzuhur': '11:45', 'Ashar': '15:05',
            'Maghrib': '17:50', 'Isya': '19:00'
        };
        
        let dzuhurNotified = false;

        function updateWaktu() {
            const waktuDisplay = document.getElementById('display-waktu');
            const now = new Date();
            const waktuString = now.toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
            
            if (waktuDisplay) waktuDisplay.textContent = waktuString;

            const dzuhurTime = PRAYER_TIMES_CONFIG['Dzuhur'].split(':');
            if (now.getHours() === parseInt(dzuhurTime[0]) && now.getMinutes() === parseInt(dzuhurTime[1]) && !dzuhurNotified) {
                document.getElementById('shalat-notif').style.display = 'block';
                dzuhurNotified = true;
            }
        }
        
        function updateCountdown() {
            const today = new Date();
            const now = today.getTime();
            let nextPrayerName = '';
            let nextPrayerTimeMillis = 0;
            const prayerArray = [];

            for (const name in PRAYER_TIMES_CONFIG) {
                const [h, m] = PRAYER_TIMES_CONFIG[name].split(':').map(Number);
                const pDate = new Date(today);
                pDate.setHours(h, m, 0, 0);
                prayerArray.push({ name, time: pDate.getTime() });
            }
            
            prayerArray.sort((a, b) => a.time - b.time);
            const next = prayerArray.find(p => p.time > now);

            if (next) {
                nextPrayerName = next.name;
                nextPrayerTimeMillis = next.time;
            } else {
                nextPrayerName = 'Subuh Besok';
                const tomorrow = new Date(today);
                tomorrow.setDate(today.getDate() + 1);
                const [h, m] = PRAYER_TIMES_CONFIG['Subuh'].split(':').map(Number);
                tomorrow.setHours(h, m, 0, 0);
                nextPrayerTimeMillis = tomorrow.getTime();
            }
            
            const diff = Math.floor((nextPrayerTimeMillis - now) / 1000);
            const h = String(Math.floor(diff / 3600)).padStart(2, '0');
            const m = String(Math.floor((diff % 3600) / 60)).padStart(2, '0');
            const s = String(diff % 60).padStart(2, '0');
            
            document.getElementById('countdown-notif').innerHTML = `‚è±Ô∏è **Menuju ${nextPrayerName}:** ${h}:${m}:${s}`;
            setTimeout(updateCountdown, 1000);
        }

        function getPrayerTimesByLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition((p) => {
                    alert(`Lokasi: ${p.coords.latitude}, ${p.coords.longitude}. Silakan update PRAYER_TIMES_CONFIG di kode.`);
                });
            }
        }

        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            const isDark = document.body.classList.contains('dark-mode');
            document.getElementById('dark-mode-toggle').innerHTML = isDark ? 'üåô Mode Terang' : '‚òÄÔ∏è Mode Gelap';
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        }

        function cariSalawat() {
            const q = document.getElementById('cari-salawat-input').value;
            if(q) window.open(`https://www.youtube.com/results?search_query=${encodeURIComponent(q)} sholawat`, '_blank');
        }

        function cariQuranDigital() {
            const q = document.getElementById('quran-input').value;
            if(q) window.open(`https://www.google.com/search?q=Qur'an Kemenag ${encodeURIComponent(q)}`, '_blank');
        }

        function terjemahkanArab() {
            const i = document.getElementById('arab-input').value.toLowerCase();
            const o = document.getElementById('terjemahan-output');
            const dict = { "selamat pagi": "ÿµŸéÿ®Ÿéÿßÿ≠Ÿè ÿßŸÑÿÆŸéŸäŸíÿ±", "terima kasih": "ÿ¥ŸèŸÉŸíÿ±Ÿãÿß", "assalamualaikum": "ŸàŸéÿπŸéŸÑŸéŸäŸíŸÉŸèŸÖŸè ÿßŸÑÿ≥ŸëŸéŸÑŸéÿßŸÖ" };
            o.textContent = dict[i] || "Terjemahan tidak ditemukan";
        }

        function downloadTikTokMP4() {
            const l = document.getElementById('tiktok-link-input').value;
            if(l) window.open(`https://www.google.com/search?q=snaptik ${encodeURIComponent(l)}`, '_blank');
        }

        function downloadTikTokMP3() {
            const l = document.getElementById('tiktok-link-input').value;
            if(l) window.open(`https://www.google.com/search?q=tiktok mp3 converter ${encodeURIComponent(l)}`, '_blank');
        }

        function petaMasjidTerdekat() {
            window.open(`https://www.google.com/maps/search/masjid+terdekat/`, '_blank');
        }

        function bukaKiblat() {
            window.open('https://qiblafinder.withgoogle.com/', '_blank');
        }

        document.addEventListener('DOMContentLoaded', () => {
            setInterval(updateWaktu, 1000);
            updateCountdown();
            if (localStorage.getItem('theme') === 'dark') toggleDarkMode();
        });
    </script>
</body>
</html>
